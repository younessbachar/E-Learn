"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js"],{89323:(e,t,n)=>{n.d(t,{W:()=>T});var r=n(96540),l=n(73990),o=n(85349),u=n(81425);n(4607);var i=n(35357),a=n(30421);let c=(e,t,n)=>{let[l,o]=r.useState(void 0);r.useEffect(function(){let e=n.current,t=e=>{0!==e.detail&&o("mouse-click")},r=e=>{["Space","Enter","ArrowDown","ArrowUp"].includes(e.code)&&o(e.code)};return null==e||e.addEventListener("click",t),null==e||e.addEventListener("keydown",r),()=>{null==e||e.removeEventListener("click",t),null==e||e.removeEventListener("keydown",r)}},[n]),r.useEffect(function(){if(!e||!t.current)return;let r=(0,a.K1)(t.current);if("mouse-click"===l){if(n.current)n.current.focus();else throw Error("For focus management, please attach anchorRef")}else if(l&&["ArrowDown","Space","Enter"].includes(l)){let e=r.next().value;setTimeout(()=>null==e?void 0:e.focus())}else if("ArrowUp"===l){let e=[...r],t=e[e.length-1];setTimeout(()=>t.focus())}else{let e=r.next().value;setTimeout(()=>null==e?void 0:e.focus())}},[e,l,n])},s=(e,t)=>{let n=(0,u.L)(t);r.useEffect(function(){if(!e||!n.current)return;let t=n.current;[...(0,a.K1)(t)].map(e=>{var t;if(e.getAttribute("aria-keyshortcuts"))return;let n=null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase()[0];n&&e.setAttribute("aria-keyshortcuts",n)})},[e,n]),r.useEffect(function(){if(!e||!n.current)return;let t=n.current,r=e=>{var n;let r=document.activeElement;if("INPUT"===r.tagName||"TEXTAREA"===r.tagName||e.ctrlKey||e.altKey||e.metaKey||!l(e))return;e.stopPropagation();let o=e.key.toLowerCase(),u=[...(0,a.K1)(t)].filter(e=>{var t;let n=null===(t=e.getAttribute("aria-keyshortcuts"))||void 0===t?void 0:t.split(" ").map(e=>e.toLowerCase());return n&&n.includes(o)}),i=u.indexOf(r);null===(n=i===u.length-1?u[0]:u.find((e,t)=>t>i))||void 0===n||n.focus()};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[e,n]);let l=e=>1===e.key.length&&/[a-z\d]/i.test(e.key);return{containerRef:n}},d=(e,t,n,r,l)=>{c(e,n,r),s(e,n),f(e,t,n,r),m(e,n,r),v(e,l,t,n)},f=(e,t,n,l)=>{r.useEffect(()=>{let r=n.current,o=l.current,u=n=>{e&&"Tab"===n.key&&(null==t||t("tab"))};return null==r||r.addEventListener("keydown",u),null==o||o.addEventListener("keydown",u),()=>{null==r||r.removeEventListener("keydown",u),null==o||o.removeEventListener("keydown",u)}},[e,t,n,l])},v=(e,t,n,l)=>{r.useEffect(()=>{let r=l.current,o=r=>{e&&t&&"ArrowLeft"===r.key&&(null==n||n("arrow-left"))};return null==r||r.addEventListener("keydown",o),()=>{null==r||r.removeEventListener("keydown",o)}},[e,n,l,t])},m=(e,t,n)=>{r.useEffect(()=>{let r=t.current,l=n.current,o=t=>{if(!e||!r)return;let n=(0,a.K1)(r);if("ArrowDown"===t.key){let e=n.next().value;setTimeout(()=>null==e?void 0:e.focus())}else if("ArrowUp"===t.key){let e=[...n],t=e[e.length-1];setTimeout(()=>t.focus())}};return null==l||l.addEventListener("keydown",o),()=>null==l?void 0:l.addEventListener("keydown",o)},[e,t,n])};var p=n(32947),y=n(84072),E=n(97301),k=n(55847),h=n(32799);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let b=r.createContext({renderAnchor:null,open:!1}),g=({anchorRef:e,open:t,onOpenChange:n,children:l})=>{let o=(0,r.useContext)(b),[a,c]=(0,i.p)(t,n,!1),s=r.useCallback(()=>c(!0),[c]),d=r.useCallback(e=>{var t;switch(c(!1),e){case"tab":case"item-select":null===(t=o.onClose)||void 0===t||t.call(o,e)}},[c,o]),f=r.Children.toArray(l).find(e=>r.isValidElement(e)&&(e.type===L||e.type===A)),v=r.isValidElement(f)?f.props.id:void 0,m=(0,u.L)(e),y=(0,p.B)(v),E=null,k=r.Children.map(l,e=>{if(e.type===h.m){let t=e.props.children;return t.type===L&&(E=n=>{let l=r.cloneElement(t,{...n});return r.cloneElement(e,{children:l,ref:m})}),null}if(e.type===A){let t=e.props.children;return void 0!==t&&t.type===h.m?null!==t.props.children&&(E=n=>{let l=t.props.children,o=r.cloneElement(l,{...n}),u=r.cloneElement(t,{children:o});return r.cloneElement(e,{children:u,ref:m})}):E=t=>r.cloneElement(e,t),null}return e.type===L?(E=t=>r.cloneElement(e,t),null):e});return r.createElement(b.Provider,{value:{anchorRef:m,renderAnchor:E,anchorId:y,open:a,onOpen:s,onClose:d,isSubmenu:void 0!==o.isSubmenu}},k)};g.displayName="Menu";let A=r.forwardRef(({children:e,...t},n)=>{let{onOpen:o,isSubmenu:u}=r.useContext(b),i=(0,r.useCallback)(t=>{var n,r;null===(n=(r=e.props).onKeyDown)||void 0===n||n.call(r,t),u&&"ArrowRight"===t.key&&!t.defaultPrevented&&(null==o||o("anchor-key-press"))},[e,u,o]),a=(0,r.useContext)(E.d),c=(0,r.useMemo)(()=>u?{...a,defaultTrailingVisual:r.createElement(l.vKP,null),afterSelect:()=>null==o?void 0:o("anchor-click")}:a,[u,o,a]);return r.createElement(E.d.Provider,{value:c},r.cloneElement(e,{...t,ref:n,onKeyDown:i}))}),L=r.forwardRef(({...e},t)=>r.createElement(A,{ref:t},r.createElement(k.Q,w({type:"button",trailingAction:l.kj1},e)))),C=({children:e,align:t="start",side:n,"aria-labelledby":l,...u})=>{let{anchorRef:i,renderAnchor:a,anchorId:c,open:s,onOpen:f,onClose:v,isSubmenu:m=!1}=r.useContext(b),p=r.useRef(null);d(s,v,p,i,m);let[y,k]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(i.current){let e=i.current.getAttribute("aria-labelledby");e&&k(e)}},[i]),r.createElement(o.T,{anchorRef:i,renderAnchor:a,anchorId:c,open:s,onOpen:f,onClose:v,align:t,side:null!=n?n:m?"outside-right":"outside-bottom",overlayProps:u,focusZoneSettings:{focusOutBehavior:"wrap"}},r.createElement("div",{ref:p},r.createElement(E.d.Provider,{value:{container:"ActionMenu",listRole:"menu",listLabelledBy:l||y||c,selectionAttribute:"aria-checked",afterSelect:()=>null==v?void 0:v("item-select"),enableFocusZone:!1}},e)))};C.displayName="Overlay",g.displayName="ActionMenu";let T=Object.assign(g,{Button:L,Anchor:A,Overlay:C,Divider:y.c})},35357:(e,t,n)=>{n.d(t,{p:()=>l});var r=n(96540);function l(e,t,n){let[l,o]=(0,r.useState)(n);return[null!=e?e:l,(0,r.useCallback)(e=>{o(e),t&&t(e)},[t])]}}}]);
//# sourceMappingURL=vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-e1b08485377f.js.map